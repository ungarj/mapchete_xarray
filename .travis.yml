dist: xenial
sudo: required
language: python
python:
  - '3.5'
  - '3.6'
before_install:
  - sudo apt-add-repository -y ppa:ubuntugis/ubuntugis-unstable
  - sudo apt-get -y update
  - sudo apt-get install -y gdal-bin python-tk libopenjpeg-dev libgdal-dev
  - pip install numpy cython
  - 'pip install fiona rasterio --no-binary :all:'
  - export CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt
install:
  - pip install -e .
  - pip install pytest coveralls
script:
  - pytest --cov=mapchete_xarray -v
after_success:
  - coveralls
